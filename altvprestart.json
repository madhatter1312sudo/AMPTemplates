[
  {
    "PreStartStageName": "Download Alt:V Server and Files",
    "PreStartSourcePlatform": "Linux",
    "PreStartSource": "RunScript",
    "PreStartSourceData": "echo '[PreStart] Starting file downloads...' && mkdir -p GenericApplication/data GenericApplication/modules/js-module GenericApplication/modules && if [ ! -f GenericApplication/altv-server ]; then echo '[PreStart] Downloading altv-server...' && wget -O GenericApplication/altv-server https://cdn.alt-mp.com/server/release/x64_linux/altv-server 2>&1 && chmod +x GenericApplication/altv-server && echo '[PreStart] altv-server downloaded' || echo '[PreStart] ERROR: Failed to download altv-server'; else echo '[PreStart] altv-server already exists'; fi && if [ ! -f GenericApplication/data/vehmodels.bin ]; then echo '[PreStart] Downloading vehmodels.bin...' && wget -O GenericApplication/data/vehmodels.bin https://cdn.alt-mp.com/server/release/x64_linux/data/vehmodels.bin 2>&1 || echo '[PreStart] ERROR: Failed to download vehmodels.bin'; fi && if [ ! -f GenericApplication/data/vehmods.bin ]; then echo '[PreStart] Downloading vehmods.bin...' && wget -O GenericApplication/data/vehmods.bin https://cdn.alt-mp.com/server/release/x64_linux/data/vehmods.bin 2>&1 || echo '[PreStart] ERROR: Failed to download vehmods.bin'; fi && if [ ! -f GenericApplication/data/pedmodels.bin ]; then echo '[PreStart] Downloading pedmodels.bin...' && wget -O GenericApplication/data/pedmodels.bin https://cdn.alt-mp.com/server/release/x64_linux/data/pedmodels.bin 2>&1 || echo '[PreStart] ERROR: Failed to download pedmodels.bin'; fi && if [ ! -f GenericApplication/data/weaponmodels.bin ]; then echo '[PreStart] Downloading weaponmodels.bin...' && wget -O GenericApplication/data/weaponmodels.bin https://cdn.alt-mp.com/server/release/x64_linux/data/weaponmodels.bin 2>&1 || echo '[PreStart] ERROR: Failed to download weaponmodels.bin'; fi && if [ ! -f GenericApplication/modules/js-module/libjs-module.so ]; then echo '[PreStart] Downloading libjs-module.so...' && wget -O GenericApplication/modules/js-module/libjs-module.so https://cdn.alt-mp.com/js-module/release/x64_linux/libjs-module.so 2>&1 && chmod +x GenericApplication/modules/js-module/libjs-module.so && echo '[PreStart] libjs-module.so downloaded' || echo '[PreStart] ERROR: Failed to download libjs-module.so'; fi && if [ ! -f GenericApplication/modules/js-module/libnode.so.108 ]; then echo '[PreStart] Downloading libnode.so.108...' && wget -O GenericApplication/modules/js-module/libnode.so.108 https://cdn.alt-mp.com/js-module/release/x64_linux/libnode.so.108 2>&1 && chmod +x GenericApplication/modules/js-module/libnode.so.108 && echo '[PreStart] libnode.so.108 downloaded' || echo '[PreStart] ERROR: Failed to download libnode.so.108'; fi && if [ ! -f GenericApplication/modules/libcsharp-module.so ]; then echo '[PreStart] Downloading libcsharp-module.so...' && wget -O GenericApplication/modules/libcsharp-module.so https://cdn.alt-mp.com/coreclr-module/release/x64_linux/libcsharp-module.so 2>&1 && chmod +x GenericApplication/modules/libcsharp-module.so && echo '[PreStart] libcsharp-module.so downloaded' || echo '[PreStart] ERROR: Failed to download libcsharp-module.so'; fi && if [ ! -f GenericApplication/AltV.Net.Host.dll ]; then echo '[PreStart] Downloading AltV.Net.Host.dll...' && wget -O GenericApplication/AltV.Net.Host.dll https://cdn.alt-mp.com/coreclr-module/release/x64_linux/AltV.Net.Host.dll 2>&1 || echo '[PreStart] ERROR: Failed to download AltV.Net.Host.dll'; fi && if [ ! -f GenericApplication/AltV.Net.Host.runtimeconfig.json ]; then echo '[PreStart] Downloading AltV.Net.Host.runtimeconfig.json...' && wget -O GenericApplication/AltV.Net.Host.runtimeconfig.json https://cdn.alt-mp.com/coreclr-module/release/x64_linux/AltV.Net.Host.runtimeconfig.json 2>&1 || echo '[PreStart] ERROR: Failed to download AltV.Net.Host.runtimeconfig.json'; fi && chmod +x GenericApplication/altv-server 2>/dev/null && find GenericApplication/modules -name '*.so' -exec chmod +x {} \\; 2>/dev/null || true && echo '[PreStart] File downloads complete!'",
    "RunInShell": true
  },
  {
    "PreStartStageName": "Create server.cfg with httpPort",
    "PreStartSourcePlatform": "Linux",
    "PreStartSource": "RunScript",
    "PreStartSourceData": "cat > GenericApplication/server.cfg << 'CFGEOF'\nname: Regenesis\nhost: 0.0.0.0\nport: 7788\nhttpPort: 7780\nplayers: 128\npassword: \ntoken: \nannounce: false\ngamemode: Freeroam\nwebsite: \nlanguage: en\ndescription: Alt:V Multiplayer Server\nmodules: [ ]\nresources: [ ]\nCFGEOF\n",
    "RunInShell": true
  }
]

